(function(){"use strict";var t={1454:function(t,e,a){var o=a(9242),n=a(3396),i=a(7139);const s={class:"navbar navbar-expand-md navbar-dark _fixed-top bg-dark"},l={class:"container container-fluid"},r=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),c={class:"collapse navbar-collapse",id:"navbarCollapse"},d={class:"navbar-nav me-auto mb-2 mb-md-0"},h={class:"nav-item"},u={class:"border-top mt-auto"},p={class:"d-flex _flex-wrap justify-content-between align-items-center py-3 my-1 container"},m=(0,n._)("p",{class:"nav col-md-4 mb-0 text-muted"},"© 2023 webcounters",-1),f={class:"nav col-md-4 mb-0 justify-content-end text-muted"},b={class:"text-muted small"};function g(t,e,a,o,g,v){const y=(0,n.up)("router-link"),w=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",s,[(0,n._)("div",l,[(0,n.Wm)(y,{class:"navbar-brand",to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("KVGrav")])),_:1}),r,(0,n._)("div",c,[(0,n._)("ul",d,[(0,n._)("li",h,[(0,n.Wm)(y,{class:"nav-link",to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("О проекте")])),_:1})])])])])]),(0,n.Wm)(w),(0,n._)("footer",u,[(0,n._)("div",p,[m,(0,n._)("p",f,[(0,n.Wm)(y,{class:"text-reset text-decoration-none",to:"/about"},{default:(0,n.w5)((()=>[(0,n.Uk)("KVGrav")])),_:1}),(0,n.Uk)(" "),(0,n._)("span",b,(0,i.zw)(t.versionApp()),1)])])])],64)}const v="v0.1.6";var y=a(2166),w=a(6520),k=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let O=class extends w.w3{data(){return{}}mounted(){new y.u(document.body,{selector:"[data-bs-toggle='tooltip']"})}};O=k([(0,w.Ei)({methods:{versionApp(){return v}},components:{},props:{}})],O);var _=O,x=a(89);const D=(0,x.Z)(_,[["render",g]]);var C=D,j=a(5431);(0,j.z)("/web-kvgrav/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var S=a(2483);function Z(t,e,a,o,i,s){const l=(0,n.up)("AppInterface");return(0,n.wg)(),(0,n.j4)(l)}const M=t=>((0,n.dD)("data-v-1509e049"),t=t(),(0,n.Cn)(),t),R={class:"container header-page d-flex _align-items-center justify-content-center"},E={class:"position-relative"},P={class:"position-absolute top-0 end-0"},q={class:"form-check form-switch mx-2"},U=M((()=>(0,n._)("label",{class:"form-check-label _p-1",for:"flexSwitchCheckChecked"},"Ньютон",-1))),L={class:"position-absolute bottom-0 start-0"},A={class:"btn-group"},z={key:0,class:"fa-solid fa-pause"},I={key:1,class:"fa-solid fa-play"},T=M((()=>(0,n._)("button",{type:"button",class:"btn _btn-outline-secondary"},[(0,n._)("i",{class:"fa-solid fa-forward-step"})],-1))),W={class:"position-absolute bottom-0 end-0 _translate-middle"},G=M((()=>(0,n._)("i",{class:"fa-solid fa-file-import"},null,-1))),N=[G],B=M((()=>(0,n._)("i",{class:"fa-solid fa-gear"},null,-1))),K=[B];function V(t,e,a,s,l,r){const c=(0,n.up)("Canvas"),d=(0,n.up)("SettingsModal"),h=(0,n.up)("IoModal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",R,[(0,n._)("div",{class:"",style:(0,i.j5)({width:t.width+"px"})},[(0,n._)("div",E,[(0,n._)("div",P,[(0,n._)("div",null,[(0,n._)("div",q,[(0,n.wy)((0,n._)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckChecked","onUpdate:modelValue":e[0]||(e[0]=e=>t.checkedNewton=e),onChange:e[1]||(e[1]=(...e)=>t.setNewton&&t.setNewton(...e))},null,544),[[o.e8,t.checkedNewton]]),U])])]),(0,n._)("div",L,[(0,n._)("div",A,[(0,n._)("button",{onClick:e[2]||(e[2]=(...e)=>t.setPlay&&t.setPlay(...e)),type:"button",class:"btn _btn-outline-secondary"},[t.play?((0,n.wg)(),(0,n.iD)("i",z)):((0,n.wg)(),(0,n.iD)("i",I))]),T])]),(0,n.Wm)(c,{"get-data":t.getData,"onUpdate:getData":e[3]||(e[3]=e=>t.getData=e),"set-data":t.dataToCanvas,"onUpdate:setData":e[4]||(e[4]=e=>t.dataToCanvas=e),play:t.play,"onUpdate:play":e[5]||(e[5]=e=>t.play=e),newton:t.newton,"onUpdate:newton":e[6]||(e[6]=e=>t.newton=e),"kvg-options":t.kvgOptions,"onUpdate:kvgOptions":e[7]||(e[7]=e=>t.kvgOptions=e),"iteration-calc":t.iterationCalc,"onUpdate:iterationCalc":e[8]||(e[8]=e=>t.iterationCalc=e),onState:t.getState},null,8,["get-data","set-data","play","newton","kvg-options","iteration-calc","onState"]),(0,n._)("div",W,[(0,n._)("div",{onMouseover:e[11]||(e[11]=(...e)=>t.onActiveSetting&&t.onActiveSetting(...e)),class:"btn-group"},[t.activeSetting?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:e[9]||(e[9]=(...e)=>t.openModalIO&&t.openModalIO(...e)),type:"button",class:"btn _btn-outline-secondary"},N)):(0,n.kq)("",!0),(0,n._)("button",{onClick:e[10]||(e[10]=(...e)=>t.onSetting&&t.onSetting(...e)),type:"button",class:"btn _btn-outline-secondary"},K)],32)])])],4)]),(0,n.Wm)(d,{"modal-data":t.infoModal,"onUpdate:modalData":e[12]||(e[12]=e=>t.infoModal=e),"kvg-options":t.kvgOptions,"onUpdate:kvgOptions":e[13]||(e[13]=e=>t.kvgOptions=e),onSettings:t.setSettingsKVG},null,8,["modal-data","kvg-options","onSettings"]),(0,n.Wm)(h,{"modal-data":t.ioModalData,"onUpdate:modalData":e[14]||(e[14]=e=>t.ioModalData=e),"io-options":t.ioOptions,"onUpdate:ioOptions":e[15]||(e[15]=e=>t.ioOptions=e),onSettings:t.setIo},null,8,["modal-data","io-options","onSettings"])],64)}var F=a(7327);const H=["width","height"];function J(t,e,a,o,i,s){return(0,n.wg)(),(0,n.iD)("canvas",{class:"_position-absolute _top-50 _start-50 _translate-middle",id:"my-canvas",width:t.width,height:t.height,tabindex:"0"},null,8,H)}a(7658);class ${constructor(){(0,F.Z)(this,"data",[]);const t=[{name:"Ядро",color:"#ffe389",state:{coordinate:{x:500,y:400},mass:5e3},scale:null},{name:"Объект 1",color:"#ff1818",state:{coordinate:{x:600,y:400},mass:200},scale:null},{name:"Объект 2",color:"#00be08",state:{coordinate:{x:500,y:500},mass:200},scale:null},{name:"Объект 3",color:"#00ffd1",state:{coordinate:{x:400,y:400},mass:200},scale:null},{name:"Объект 4",color:"#0028c4",state:{coordinate:{x:500,y:300},mass:200},scale:null},{name:"Объект 5",color:"#a20000",state:{coordinate:{x:700,y:400},mass:500},scale:null},{name:"Объект 6",color:"#006c06",state:{coordinate:{x:500,y:600},mass:500},scale:null},{name:"Объект 7",color:"#00856f",state:{coordinate:{x:300,y:400},mass:500},scale:null},{name:"Объект 8",color:"#001972",state:{coordinate:{x:500,y:200},mass:500},scale:null},{name:"Объект 9",color:"#bd36ff",state:{coordinate:{x:600,y:300},mass:200},scale:null},{name:"Объект 10",color:"#cfff00",state:{coordinate:{x:600,y:500},mass:200},scale:null},{name:"Объект 11",color:"#3eff00",state:{coordinate:{x:400,y:500},mass:200},scale:null},{name:"Объект 12",color:"#0cc7ff",state:{coordinate:{x:400,y:300},mass:200},scale:null},{name:"Объект 9",color:"#e1e1e1",state:{coordinate:{x:700,y:200},mass:1e3},scale:null},{name:"Объект 10",color:"#000000",state:{coordinate:{x:700,y:600},mass:1e3},scale:null},{name:"Объект 11",color:"#9d9871",state:{coordinate:{x:300,y:600},mass:1e3},scale:null},{name:"Объект 12",color:"#deba85",state:{coordinate:{x:300,y:200},mass:1e3},scale:null}];t.forEach((t=>{this.data.push(t)}))}list(){return this.data}}var Y=$,X=a(1044),Q=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};const tt=2*Math.PI,et=new X.Z;let at=class extends w.w3{constructor(...t){super(...t),(0,F.Z)(this,"width",void 0),(0,F.Z)(this,"height",void 0),(0,F.Z)(this,"iterationCalc",void 0),(0,F.Z)(this,"play",void 0),(0,F.Z)(this,"newton",void 0),(0,F.Z)(this,"getData",void 0),(0,F.Z)(this,"cellWidth",100),(0,F.Z)(this,"cellHeight",100),(0,F.Z)(this,"canvasCWidth",void 0),(0,F.Z)(this,"canvasCHeight",void 0),(0,F.Z)(this,"canvas",void 0),(0,F.Z)(this,"grid",void 0),(0,F.Z)(this,"ctx",void 0),(0,F.Z)(this,"dataList",[]),(0,F.Z)(this,"state",[]),(0,F.Z)(this,"centerCoordinate",void 0),(0,F.Z)(this,"animationFrame",void 0),(0,F.Z)(this,"size",void 0),(0,F.Z)(this,"kvgOptions",void 0),(0,F.Z)(this,"setData",void 0)}setPlay(t){t?this.animate():cancelAnimationFrame(this.animationFrame)}setByKvgOptions(t){et.setOptions(t)}data(){return{width:1e3,height:800}}created(){this.grid=this.getGridCanvas(this.width,this.height)}getGridCanvas(t,e,a=100,o=100){const n=t/a,i=e/o,s=document.createElement("canvas");s.width=t,s.height=e;const l=s.getContext("2d",{alpha:!0});l.beginPath(),l.strokeStyle="rgba(0,0,0,0.1)";for(let r=0;r<=n;r++)for(let t=0;t<=i;t++)l.strokeRect(a*r,o*t,a,o);return l.stroke(),l.closePath(),s}mounted(){this.canvasCWidth=this.width/this.cellWidth,this.canvasCHeight=this.height/this.cellHeight,this.canvas=document.getElementById("my-canvas"),this.canvas.addEventListener("click",(function(t){t.offsetX,t.offsetY}),!1),this.ctx=this.canvas.getContext("2d",{alpha:!0});const t=new Y;this.importData(t.list()),this.recalculateWindowsSize(),this.recalculateSituations(),this.animateOne()}importData(t){this.dataList=[],t.forEach((t=>{this.dataList.push(t)}))}exportData(t,e){let a=[];return t.forEach(((t,o)=>{let n=t;n.state=e[o],a.push(n)})),a}recalculateSituations(){this.state=[],this.dataList.forEach((t=>{this.state.push(t.state)}))}recalculateWindowsSize(){this.centerCoordinate={x:this.width/2,y:this.height/2}}drawObjects(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.drawImage(this.grid,0,0),this.state.forEach(((t,e)=>{let a=this.dataList[e];a.state.coordinate={x:t.coordinate.x,y:t.coordinate.y},this.drawObject(a)}))}drawCenter(){this.ctx.beginPath(),this.ctx.arc(this.centerCoordinate.x,this.centerCoordinate.y,1,0,tt,!1),this.ctx.strokeStyle="#ff0000",this.ctx.stroke()}drawObject(t){if(t.state.coordinate.x>this.width||t.state.coordinate.y>this.height)return;let e=t.scale?Math.sqrt(t.state.mass*t.scale):Math.sqrt(t.state.mass);e<1&&(e=1),this.ctx.beginPath(),this.ctx.arc(t.state.coordinate.x,t.state.coordinate.y,e,0,tt,!1),this.ctx.fillStyle=t.color,this.ctx.fill(),this.ctx.lineWidth=1,this.ctx.strokeStyle=e>1?"black":t.color,this.ctx.stroke()}checkConflict(t){let e=[];if(t.forEach(((a,o)=>{if(e.some((t=>t===o)))return;let n=Math.sqrt(a.mass);t.forEach(((t,i)=>{if(o==i)return;if(e.some((t=>t===i)))return;let s=Math.sqrt(t.mass);const l=a.coordinate.x-t.coordinate.x,r=a.coordinate.y-t.coordinate.y,c=Math.sqrt(Math.pow(l,2)+Math.pow(r,2));n+s>c&&(a.mass>t.mass?e.push(i):e.push(o))}))})),e.length>0){const t=this.dataList.filter((function(t,a){return!e.some((t=>t===a))}));this.importData(t),this.recalculateSituations()}}animate(){this.drawObjects();for(let t=0;t<this.iterationCalc;t++)et.calculates(this.state);this.checkConflict(this.state),this.play&&(this.animationFrame=requestAnimationFrame(this.animate))}animateOne(){this.drawObjects(),this.drawCenter()}destroyed(){}};at=Q([(0,w.Ei)({props:{params:Object,play:Boolean,newton:Boolean,getData:Boolean,size:Object,iterationCalc:Number,kvgOptions:Object,setData:Object},watch:{size(t){this.width=t.x,this.height=t.y},play(t){this.setPlay(t)},newton(t){et.newton=t},params(t){et.setOptions(t)},getData(t){if(t){const t=this.exportData(this.dataList,this.state);this.$emit("state",t)}},kvgOptions(t){this.setByKvgOptions(t)},setData(t){this.importData(t.data),this.recalculateSituations(),this.animateOne()}}})],at);var ot=at;const nt=(0,x.Z)(ot,[["render",J],["__scopeId","data-v-f3ab2600"]]);var it=nt;const st={class:"modal fade",id:"info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},lt={class:"modal-dialog modal-dialog-centered"},rt={key:0,class:"modal-content"},ct={key:0,class:"modal-header"},dt={class:"modal-title text-start",id:"staticBackdropLabel"},ht=(0,n._)("i",{class:"fa-solid fa-info mx-3"},null,-1),ut={class:"modal-body"},pt=["innerHTML"],mt={key:1},ft={key:1,class:"modal-footer"};function bt(t,e,a,o,s,l){return(0,n.wg)(),(0,n.iD)("div",st,[(0,n._)("div",lt,[t.modalData?((0,n.wg)(),(0,n.iD)("div",rt,[t.modalData.title?((0,n.wg)(),(0,n.iD)("div",ct,[(0,n._)("h5",dt,[ht,(0,n.Uk)((0,i.zw)(t.modalData.title),1)]),t.modalData.close?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn-close","data-bs-_dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...e)=>t.onClose&&t.onClose(...e))})):(0,n.kq)("",!0)])):(0,n.kq)("",!0),(0,n._)("div",ut,[t.modalData.html?((0,n.wg)(),(0,n.iD)("div",{key:0,innerHTML:t.modalData.html},null,8,pt)):t.modalData.body?((0,n.wg)(),(0,n.iD)("p",mt,(0,i.zw)(t.modalData.body),1)):(0,n.kq)("",!0)]),t.modalData.close||t.modalData.ok||t.modalData.confirm?((0,n.wg)(),(0,n.iD)("div",ft,[t.modalData.close?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-secondary","data-bs-_dismiss":"modal",onClick:e[1]||(e[1]=(...e)=>t.onClose&&t.onClose(...e))},"Close")):(0,n.kq)("",!0),t.modalData.ok?((0,n.wg)(),(0,n.iD)("button",{key:1,type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=(...e)=>t.onOk&&t.onOk(...e))}," Ok ")):(0,n.kq)("",!0),t.modalData.confirm?((0,n.wg)(),(0,n.iD)("button",{key:2,type:"button",class:"btn btn-primary",onClick:e[3]||(e[3]=(...e)=>t.onSubmit&&t.onSubmit(...e))}," Confirm ")):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)])])}var gt=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let vt=class extends w.w3{constructor(...t){super(...t),(0,F.Z)(this,"thisModalObj",void 0),(0,F.Z)(this,"modalData",void 0)}data(){return{}}mounted(){this.thisModalObj=new y.u_("#info-modal")}onOk(){this.modalData?.ok?.(!0),this.thisModalObj.hide()}onClose(){this.modalData?.ok?.(!1),this.modalData?.confirm?.(!1),this.thisModalObj.hide()}onSubmit(){this.modalData?.confirm?.(!0),this.thisModalObj.hide()}};vt=gt([(0,w.Ei)({components:{},props:{modalData:Object},watch:{modalData(t){this.thisModalObj.show()}}})],vt);var yt=vt;const wt=(0,x.Z)(yt,[["render",bt]]);var kt=wt;const Ot={class:"modal fade",id:"info-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},_t={class:"modal-dialog modal-dialog-centered"},xt={key:0,class:"modal-content"},Dt={class:"modal-header"},Ct=(0,n._)("h5",{class:"modal-title text-start",id:"staticBackdropLabel"},[(0,n._)("i",{class:"fa-solid fa-info mx-3"}),(0,n.Uk)("Настройки")],-1),jt={class:"modal-body"},St={for:"customRange3",class:"form-label"},Zt={for:"customRange3",class:"form-label"},Mt={for:"customRange3",class:"form-label"},Rt={for:"customRange3",class:"form-label"},Et={class:"modal-footer"};function Pt(t,e,a,s,l,r){return(0,n.wg)(),(0,n.iD)("div",Ot,[(0,n._)("div",_t,[t.modalData?((0,n.wg)(),(0,n.iD)("div",xt,[(0,n._)("div",Dt,[Ct,t.modalData.close?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn-close","data-bs-_dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...e)=>t.onClose&&t.onClose(...e))})):(0,n.kq)("",!0)]),(0,n._)("div",jt,[(0,n._)("label",St,"Радиус внешнего поля "+(0,i.zw)(t.funRange4),1),(0,n.wy)((0,n._)("input",{type:"range","onUpdate:modelValue":e[1]||(e[1]=e=>t.range4=e),class:"form-range",min:"500",max:"10000",step:"1",id:"customRange3"},null,512),[[o.nr,t.range4]]),(0,n._)("label",Zt,"Сила внешнего поле "+(0,i.zw)(t.funRange3),1),(0,n.wy)((0,n._)("input",{type:"range","onUpdate:modelValue":e[2]||(e[2]=e=>t.range3=e),class:"form-range",min:"1",max:"1000",step:"1",id:"customRange3"},null,512),[[o.nr,t.range3]]),(0,n._)("label",Mt,"Сила воздействия поля "+(0,i.zw)(t.funRange2)+" %",1),(0,n.wy)((0,n._)("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=e=>t.range2=e),class:"form-range",min:"1",max:"100",step:"1",id:"customRange3"},null,512),[[o.nr,t.range2]]),(0,n._)("label",Rt,"Скорость "+(0,i.zw)(t.funRange1)+" %",1),(0,n.wy)((0,n._)("input",{type:"range","onUpdate:modelValue":e[4]||(e[4]=e=>t.range1=e),class:"form-range",min:"1",max:"100",step:"1",id:"customRange3"},null,512),[[o.nr,t.range1]])]),(0,n._)("div",Et,[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-_dismiss":"modal",onClick:e[5]||(e[5]=(...e)=>t.onClose&&t.onClose(...e))},"Close"),(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:e[6]||(e[6]=(...e)=>t.onOk&&t.onOk(...e))}," Применить "),t.modalData.confirm?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:e[7]||(e[7]=(...e)=>t.onSubmit&&t.onSubmit(...e))}," Confirm ")):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)])])}var qt=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let Ut=class extends w.w3{constructor(...t){super(...t),(0,F.Z)(this,"thisModalObj",void 0),(0,F.Z)(this,"modalData",void 0),(0,F.Z)(this,"kvgOptions",void 0),(0,F.Z)(this,"range1",void 0),(0,F.Z)(this,"range2",void 0),(0,F.Z)(this,"range3",void 0),(0,F.Z)(this,"range4",void 0)}data(){return{range1:10,range2:10,range3:100,range4:1e3}}setByKvgOptions(t){this.range2=Math.sqrt(100*t.transferStrength),this.range3=Math.sqrt(t.powerExtGravitation),this.range4=t.radiusExtGravitation}mounted(){this.thisModalObj=new y.u_("#info-modal")}changeFun(){console.info(this.range1)}get funRange1(){return Math.pow(this.range1,2)}get funRange2(){return Math.pow(this.range2,2)}get funRange3(){return Math.pow(this.range3,2)}get funRange4(){return this.range4}getOptions(){return{transferStrength:this.funRange2/100,radiusExtGravitation:this.funRange4,powerExtGravitation:this.funRange3}}onOk(){this.$emit("settings",this.getOptions()),this.thisModalObj.hide()}onClose(){this.modalData?.confirm?.(!1),this.thisModalObj.hide()}onSubmit(){this.modalData?.confirm?.(!0),this.thisModalObj.hide()}};Ut=qt([(0,w.Ei)({components:{},props:{modalData:Object,kvgOptions:Object},watch:{modalData(t){this.thisModalObj.show()},kvgOptions(t){this.setByKvgOptions(t)}}})],Ut);var Lt=Ut;const At=(0,x.Z)(Lt,[["render",Pt]]);var zt=At;const It={class:"modal _modal-xl fade",id:"io-modal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Tt={class:"modal-dialog modal-dialog-centered"},Wt={key:0,class:"modal-content"},Gt={class:"modal-header"},Nt=(0,n._)("h5",{class:"modal-title text-start",id:"staticBackdropLabel"},[(0,n._)("i",{class:"fa-solid fa-info mx-3"}),(0,n.Uk)("Импорт/Экспорт")],-1),Bt={class:"modal-body"},Kt={class:"mb-3"},Vt=(0,n._)("label",{for:"exampleFormControlTextarea1",class:"form-label"},"JSON данные",-1),Ft=(0,n._)("i",{class:"fa-solid fa-copy"},null,-1),Ht=[Ft],Jt=["value"],$t={class:"modal-footer"};function Yt(t,e,a,o,i,s){return(0,n.wg)(),(0,n.iD)("div",It,[(0,n._)("div",Tt,[t.modalData?((0,n.wg)(),(0,n.iD)("div",Wt,[(0,n._)("div",Gt,[Nt,t.modalData.close?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn-close","data-bs-_dismiss":"modal","aria-label":"Close",onClick:e[0]||(e[0]=(...e)=>t.onClose&&t.onClose(...e))})):(0,n.kq)("",!0)]),(0,n._)("div",Bt,[(0,n._)("div",Kt,[Vt,(0,n._)("button",{type:"button",class:"btn btn-sm btn-outline-secondary mx-2",onClick:e[1]||(e[1]=e=>t.toClipboard(t.json)),id:"button-copy-json"},Ht),(0,n._)("textarea",{value:t.json,onInput:e[2]||(e[2]=e=>t.json=e.target.value),class:"form-control",id:"exampleFormControlTextarea1",rows:"3"},null,40,Jt)])]),(0,n._)("div",$t,[(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-_dismiss":"modal",onClick:e[3]||(e[3]=(...e)=>t.onClose&&t.onClose(...e))},"Close"),(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...e)=>t.onOk&&t.onOk(...e))}," Применить "),t.modalData.confirm?((0,n.wg)(),(0,n.iD)("button",{key:0,type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=(...e)=>t.onSubmit&&t.onSubmit(...e))}," Confirm ")):(0,n.kq)("",!0)])])):(0,n.kq)("",!0)])])}var Xt=a(7071),Qt=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let te=class extends w.w3{constructor(...t){super(...t),(0,F.Z)(this,"thisModalObj",void 0),(0,F.Z)(this,"modalData",void 0),(0,F.Z)(this,"ioOptions",void 0),(0,F.Z)(this,"json",void 0)}data(){return{json:""}}mounted(){this.thisModalObj=new y.u_("#io-modal")}onOk(){const t={json:this.json,callback:t=>{t&&this.thisModalObj.hide()}};this.$emit("settings",t)}onClose(){this.modalData?.confirm?.(!1),this.thisModalObj.hide()}onSubmit(){this.modalData?.confirm?.(!0),this.thisModalObj.hide()}async toClipboard(t){const{toClipboard:e}=(0,Xt.Z)();try{await e(t),console.log(`Copied to clipboard, length ${t.length}`)}catch(a){console.error(a)}}};te=Qt([(0,w.Ei)({components:{},props:{modalData:Object,ioOptions:Object,json:String},watch:{modalData(t){this.thisModalObj.show()},ioOptions(t){this.json=t.json}}})],te);var ee=te;const ae=(0,x.Z)(ee,[["render",Yt]]);var oe=ae,ne=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let ie=class extends w.w3{constructor(...t){super(...t),(0,F.Z)(this,"cursorActiveSetting",void 0),(0,F.Z)(this,"width",void 0),(0,F.Z)(this,"height",void 0),(0,F.Z)(this,"iterationCalc",void 0),(0,F.Z)(this,"play",!1),(0,F.Z)(this,"newton",void 0),(0,F.Z)(this,"getData",void 0),(0,F.Z)(this,"dataToCanvas",void 0),(0,F.Z)(this,"activeSetting",void 0),(0,F.Z)(this,"checkedNewton",!1),(0,F.Z)(this,"centerCoordinate",void 0),(0,F.Z)(this,"infoModal",void 0),(0,F.Z)(this,"ioModalData",void 0),(0,F.Z)(this,"kvgOptions",void 0),(0,F.Z)(this,"ioOptions",void 0)}data(){return{width:1e3,height:800,iterationCalc:100,play:this.play,infoModal:null,ioModalData:null,kvgOptions:null,ioOptions:null,newton:!1,getData:null,dataToCanvas:null,activeSetting:!1,checkedNewton:null}}setPlay(){this.play?this.play=!1:this.play=!0}requestDataFromCanvas(){this.getData=!0,setTimeout((()=>{this.getData=!1}),100)}setNewton(){this.newton=this.checkedNewton}setSettingsKVG(t){this.kvgOptions=t}importJson(t){try{const e=JSON.parse(t);if(e.data.length>0)return e}catch(e){console.error(e)}return null}setIo(t){const e=this.importJson(t.json);e&&(this.dataToCanvas=e,t.callback?.(!0))}getState(t){const e={name:"Name",version:.1,data:t},a=JSON.stringify(e,null,2);this.ioOptions={json:a,callback:null}}openModalIO(){this.requestDataFromCanvas(),this.ioModalData={confirm:null,close:!0}}onSetting(){this.infoModal={title:"Error",body:"errorMessage",html:null,ok:t=>{},confirm:null,close:!0}}created(){window.addEventListener("resize",this.myEventHandler)}mounted(){document.title="KVGrav — 2D эмулятор гравитации",this.kvgOptions={transferStrength:1,radiusExtGravitation:600,powerExtGravitation:14400}}onActiveSetting(){clearTimeout(this.cursorActiveSetting),this.activeSetting=!0,this.cursorActiveSetting=setTimeout((()=>{this.activeSetting=!1}),3e3)}recalculateWindowsSize(){this.centerCoordinate={x:this.width/2,y:this.height/2}}destroyed(){window.removeEventListener("resize",this.myEventHandler)}myEventHandler(t){}};ie=ne([(0,w.Ei)({components:{IoModal:oe,SettingsModal:zt,InfoModal:kt,Canvas:it},props:{}})],ie);var se=ie;const le=(0,x.Z)(se,[["render",V],["__scopeId","data-v-1509e049"]]);var re=le,ce=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let de=class extends w.w3{};de=ce([(0,w.Ei)({components:{AppInterface:re}})],de);var he=de;const ue=(0,x.Z)(he,[["render",Z]]);var pe=ue;const me={class:"container header-page"},fe=(0,n._)("h1",null,"Приложение KVGrav",-1),be=(0,n._)("p",null,"KVGrav представляет собой 2D эмулятор гравитации.",-1),ge=(0,n._)("p",null,[(0,n.Uk)("Приложение является сайтом-приложением работающим в любом современно браузере с возможностью установки на Windows, Linux и macOS (PWA). Приложению не требуется доступ в интернет для его функционирования."),(0,n._)("br"),(0,n.Uk)(" Приложение полностью бесплатно, код открыт и доступен на "),(0,n._)("a",{class:"text-reset",target:"_blank",href:"https://github.com/scientific-tribunal/web-kvgrav"},"github"),(0,n.Uk)(" по лицензии Apache-2.0 ")],-1),ve=(0,n._)("i",{class:"fa-solid fa-arrows-rotate"},null,-1),ye=[ve],we=(0,n.uE)('<p>Для обмена состояниями объектов, для добавления, удаления и редактирования используйте функцию <a class="text-reset" target="_blank" href="https://github.com/scientific-tribunal/web-kvgrav/blob/main/ImportExport.md">импорт/экспорт</a></p><p>Текущие возможности:</p><ul><li>Эмуляция физики (взаимодействие объектов друг с другом и с внешним полем). Подробнее <a class="text-reset" target="_blank" href="https://github.com/scientific-tribunal/kvgrav#kvgrav">тут</a></li><li>Настройка параметров (скорость, радиус и сила внешнего поля)</li><li>Включение и отключение физики Ньютона</li><li>Запуск и пауза кнопкой</li><li>Импорт и экспорт объектов с текущим состоянием</li><li>Уничтожение объекта с меньшей массой при столкновении</li></ul><p>Планируемые возможности:</p><ul><li>Поддержка энерции (после добавления в библиотеку <a class="text-reset" target="_blank" href="https://github.com/scientific-tribunal/kvgrav">KVGrav</a>)</li><li>Уничтожение объектов при выходе за рамки внешнего поля</li><li>Загрузка объектов предложенных сообществом (вы можете уже <a class="text-reset" target="_blank" href="https://github.com/scientific-tribunal/web-kvgrav/blob/main/ImportExport.md#активным-участникам">предлагать</a>) свои файлы экспорта)</li><li>Добавление параметров физики (сила поля и т.д.) в файл импорта и экспорта</li><li>Изменение объектов по клику на него, перемещение мышкой и т.д.</li><li>Отображение сил для выбранного объекта</li><li>Адаптивный размер отображения</li></ul><p>При возникновении подозрений что что-то не так, ознакомьтесь с <a class="text-reset" target="_blank" href="https://www.youtube.com/watch?v=HETcwoDKr4g&amp;list=PL_0JNvLqzOHR8SB8lKERj9LLOWpEjqJAL">серией фильмов «Гравитация»</a></p>',6);function ke(t,e,a,o,s,l){return(0,n.wg)(),(0,n.iD)("div",me,[fe,be,ge,(0,n._)("p",null,[(0,n.Uk)("Версия приложения: "+(0,i.zw)(t.versionApp())+" ",1),(0,n._)("a",{type:"button",onClick:e[0]||(e[0]=(...e)=>t.reload&&t.reload(...e)),class:"btn _btn-outline-secondary btn-sm","data-bs-toggle":"tooltip","data-bs-title":"App update"},ye)]),we])}var Oe=function(t,e,a,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,a):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(t,e,a,o);else for(var l=t.length-1;l>=0;l--)(n=t[l])&&(s=(i<3?n(s):i>3?n(e,a,s):n(e,a))||s);return i>3&&s&&Object.defineProperty(e,a,s),s};let _e=class extends w.w3{data(){return{}}reload(){this.$router.go(0)}mounted(){document.title="О проекте — KVGrav"}};_e=Oe([(0,w.Ei)({methods:{versionApp(){return v}},props:{}})],_e);var xe=_e;const De=(0,x.Z)(xe,[["render",ke]]);var Ce=De;const je=[{path:"/",name:"home",component:pe},{path:"/about",name:"about",component:Ce}],Se=(0,S.p7)({history:(0,S.r5)(),routes:je});var Ze=Se;(0,o.ri)(C).use(Ze).mount("#app")}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,o,n,i){if(!o){var s=1/0;for(d=0;d<t.length;d++){o=t[d][0],n=t[d][1],i=t[d][2];for(var l=!0,r=0;r<o.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](o[r])}))?o.splice(r--,1):(l=!1,i<s&&(s=i));if(l){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[o,n,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,i,s=o[0],l=o[1],r=o[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(r)var d=r(a)}for(e&&e(o);c<s.length;c++)i=s[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},o=self["webpackChunkweb_kvgrav"]=self["webpackChunkweb_kvgrav"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(1454)}));o=a.O(o)})();
//# sourceMappingURL=app.f7959d04.js.map